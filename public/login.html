<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Login</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
    </head>

    <body class="">

        <form>
            <label for="username">Username:</label><br>
            <input type="email" id="username" name="email" value=""><br><br>
            <label for="password">Password:</label><br>
            <input type="password" id="password" name="password" value=""><br><br>
            <input type="submit" value="Submit" onClick="login()">
        </form>

    </body>

    <style>
        body {
            font-family: 'Nunito', sans-serif;
        }
    </style>

    <script>

        function login() {

            var formdata = new FormData();

            var username = document.getElementById("username").value;
            var password = document.getElementById("password").value;

            formdata.username;
            formdata.password;

            var requestOptions = {
                method: 'POST',
                body: formdata,
                redirect: 'follow'
            };

            const response = fetch("http://localhost:7999/api/auth/login", requestOptions)

            // success
            if (response.status == 402) {
                window.location.href = 'http://www.google.com'
            }

            // error
            if (response.status == 401) {
                window.location.href = 'http://www.facebook.com'
                const error_message = 'Cant login: ${response.status}';
                throw new Error(error_message);
            }
        }
    </script>

</html>